/* =======================================
   Premium minimal theme (Apple/Tesla vibe)
   Light-first, pink neon scripture + focus line
======================================= */
:root{
  --bg-top: #f7f8fa;
  --bg-mid: #ffffff;
  --bg-bot: #f7f8fa;

  --ink-900:#0a0a0a; --ink-800:#1a1a1a; --ink-600:#2a2a2a;
  --ink-400:#6b7280; --ink-200:#e5e7eb;
  --brand:#cc0000; --brand-600:#b30000;
  --pink-neon: 236,72,153; /* tailwind pink-500 */
  --neon-strength: 1;
}

/* Utility */
.hidden{ display:none !important; }

/* Tailwind-ish tokens used in markup */
.bg-paper{ background: #fff; }
.text-ink{ color: var(--ink-900); }

/***** Base *****/
html,body{height:100%}
body{
  font-family: system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica Neue,Arial,sans-serif;
  color: var(--ink-900);
}

/***** Ambient gradient background *****/
.ambient{position:fixed; inset:0; pointer-events:none; z-index:-3;
  background:
    radial-gradient(1400px 700px at calc(50% + var(--stage-x,0px)) calc(-12% + var(--stage-y,0px)), rgba(255,0,127,0.06), transparent 62%),
    radial-gradient(1100px 600px at 115% -8%, rgba(204,0,0,0.08), transparent 65%),
    linear-gradient(180deg, var(--bg-top) 0%, var(--bg-mid) 40%, var(--bg-bot) 100%);
}
/* very subtle hue shift layer */
.ambient-shift{position:fixed; inset:0; pointer-events:none; z-index:-3; mix-blend-mode:screen; opacity:.25;
  background: radial-gradient(900px 600px at calc(50% + var(--stage-x,0px)) calc(20% + var(--stage-y,0px)), rgba(120,180,255,0.10), transparent 65%);
  animation: ambientShift 14s ease-in-out infinite;
}
@keyframes ambientShift{
  0%,100%{ opacity:.22; transform: translateY(0); }
  50%{ opacity:.34; transform: translateY(-8px); }
}

/* film grain */
.grain{position:fixed; inset:0; pointer-events:none; z-index:-2; opacity:.12; mix-blend-mode:soft-light;
  background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 120 120"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2" stitchTiles="stitch"/></filter><rect width="120" height="120" filter="url(%23n)" opacity="0.08"/></svg>');
}

/* vignette */
.vignette{position:fixed; inset:0; pointer-events:none; z-index:-1;
  background: radial-gradient(1200px 600px at 50% 10%, transparent 55%, rgba(0,0,0,.08));
}

/***** Typography *****/
.font-serif{ font-family: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif; }

/***** Logo hover aura *****/
.logo-glow{ transition: filter .4s ease; }
@media (hover:hover){
  .logo-glow:hover{ filter: drop-shadow(0 8px 28px rgba(236,72,153,.25)); }
}

/***** Headline sheen (every ~10s) *****/
.headline{
  position:relative; display:inline-block;
  text-shadow: 0 6px 28px rgba(0,0,0,.08);
  background: linear-gradient(90deg, #111 0, #111 30%, #555 50%, #111 70%, #111 100%);
  -webkit-background-clip: text; background-clip: text; color: transparent;
}
.headline::after{
  content:""; position:absolute; top:0; left:-20%; width:40%; height:100%;
  background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,.55) 50%, rgba(255,255,255,0) 100%);
  transform: skewX(-18deg); opacity:0;
  animation: headSheen 10s ease-in-out infinite;
}
@keyframes headSheen{
  0%,85%{ transform: translateX(0) skewX(-18deg); opacity:0; }
  92%{ transform: translateX(260%) skewX(-18deg); opacity:.9; }
  100%{ transform: translateX(260%) skewX(-18deg); opacity:0; }
}

/***** Scripture glow (ambient pink, no box) *****/
.scripture-glow{
  position: relative;
  text-shadow:
    0 0 calc(8px * var(--neon-strength)) rgba(var(--pink-neon),0.45),
    0 0 calc(16px * var(--neon-strength)) rgba(var(--pink-neon),0.35),
    0 0 calc(32px * var(--neon-strength)) rgba(var(--pink-neon),0.2);
  animation: neonBreath 6s ease-in-out infinite;
}
.scripture-glow::before{
  content:"";
  position:absolute; inset:-6px -10px;
  background: radial-gradient(36rem 12rem at 50% 60%, rgba(var(--pink-neon),0.16), transparent 70%);
  filter: blur(24px); z-index:-1;
}
@keyframes neonBreath{
  0%,100%{
    text-shadow:
      0 0 calc(8px * var(--neon-strength)) rgba(var(--pink-neon),0.45),
      0 0 calc(16px * var(--neon-strength)) rgba(var(--pink-neon),0.35),
      0 0 calc(32px * var(--neon-strength)) rgba(var(--pink-neon),0.2);
  }
  50%{
    text-shadow:
      0 0 calc(14px * var(--neon-strength)) rgba(var(--pink-neon),0.7),
      0 0 calc(28px * var(--neon-strength)) rgba(var(--pink-neon),0.5),
      0 0 calc(48px * var(--neon-strength)) rgba(var(--pink-neon),0.35);
  }
}

/***** Focus line (pink neon synced) *****/
.focus-line{
  height:1px; width:0;
  background: radial-gradient(60% 200% at 50% 50%, rgba(var(--pink-neon),0.7), transparent 70%);
  filter: drop-shadow(0 0 12px rgba(var(--pink-neon),0.5));
  transition: width 520ms ease;
  animation: linePulse 6s ease-in-out infinite;
}
body.loaded .focus-line{ width: 72%; }
@keyframes linePulse{
  0%,100%{ filter: drop-shadow(0 0 12px rgba(var(--pink-neon),0.5)); }
  50%{ filter: drop-shadow(0 0 20px rgba(var(--pink-neon),0.8)); }
}

/***** Animated divider dots *****/
.divider-dots{ display:flex; gap:8px; justify-content:center; align-items:center; }
.divider-dots span{
  width:6px; height:6px; border-radius:999px; background: rgba(0,0,0,.18);
  animation: dotBreathe 3.2s ease-in-out infinite;
}
.divider-dots span:nth-child(2){ animation-delay:.15s }
.divider-dots span:nth-child(3){ animation-delay:.30s }
.divider-dots span:nth-child(4){ animation-delay:.45s }
.divider-dots span:nth-child(5){ animation-delay:.60s }
@keyframes dotBreathe{
  0%,100%{ transform: translateY(0); opacity:.6 }
  50%{ transform: translateY(-2px); opacity:1 }
}

/***** Form UI *****/
.label{ font-size:.875rem; color:#111; font-weight:600; }
.input{
  width:100%; border:1px solid var(--ink-200); border-radius:12px; background:#fff;
  padding:.75rem .9rem; font-size:1rem;
  outline:none; transition: box-shadow .2s, border-color .2s;
}
.input:focus{ border-color:#111; box-shadow: 0 0 0 4px rgba(0,0,0,.06); }
.checkbox{ width:1rem; height:1rem; accent-color: rgb(236,72,153); }
.help{ font-size:.78rem; color: var(--ink-400); }
.error{ font-size:.78rem; color: #cc0000; margin-top:.25rem; }
.currency-prefix{ position:absolute; inset:0 auto 0 .6rem; display:flex; align-items:center; color:var(--ink-400) }

.chip-row{ display:flex; flex-wrap:wrap; gap:.5rem; margin-top:.25rem }
.chip{
  border:1px solid var(--ink-200); border-radius:999px; padding:.4rem .7rem; font-size:.9rem;
  background:#fff; transition: transform .06s ease, background .2s;
}
.chip:hover{ transform: translateY(-1px) }
.chip.on{ background:#111; color:#fff; border-color:#111; box-shadow: 0 0 0 4px rgba(0,0,0,.08); }

.pill-row{ display:flex; gap:.5rem; flex-wrap:wrap; margin-top:.25rem }
.pill{
  border:1px solid var(--ink-200); border-radius:999px; padding:.45rem .8rem; background:#fff; cursor:pointer;
  user-select:none; transition: background .2s, border-color .2s, box-shadow .2s;
}
.pill.checked{ background:#111; color:#fff; border-color:#111; box-shadow: 0 0 0 4px rgba(0,0,0,.08); }
.pill input:focus-visible + span, .input:focus-visible{ outline: 2px solid rgba(236,72,153,.5) }

/***** Buttons *****/
.btn-primary{
  background:#111; color:#fff; border-radius:999px; padding:.8rem 1rem; font-weight:700;
  transition: transform .06s ease, background .2s, box-shadow .2s;
}
.btn-primary:hover{ transform: translateY(-1px); background:#000; box-shadow: 0 10px 24px rgba(0,0,0,.12) }
.btn-primary:disabled{ opacity:.5; cursor:not-allowed }

.btn-secondary{
  background:#fff; color:#111; border:1px solid var(--ink-200); border-radius:999px; padding:.75rem 1rem; font-weight:600;
  transition: transform .06s ease, background .2s;
}
.btn-secondary:hover{ transform: translateY(-1px); background:#fafafa }

.link{ font-size:.9rem; color:#111; }
.link.subtle{ opacity:.85; }
.link.subtle:hover{ opacity:1; text-decoration: underline; text-underline-offset: 3px; }

/***** Containers / cards *****/
.glass-card{
  border:1px solid rgba(0,0,0,.06); background: rgba(255,255,255,.7);
  backdrop-filter: blur(10px); border-radius:16px; padding:1.25rem;
}
.elevate{ box-shadow: 0 10px 32px rgba(0,0,0,.08) }

/***** Footer micro-parallax *****/
.drift-link{ display:inline-block; transition: transform .2s ease }

/***** Animations *****/
.fade-up{ opacity:0; transform: translateY(8px);
  transition: opacity .48s ease, transform .48s ease; transition-delay: var(--delay,0ms); }
body.loaded .fade-up{ opacity:1; transform: translateY(0) }

.slide-in-left{ opacity:0; transform: translateX(-64px);
  transition: transform .7s cubic-bezier(.2,.8,.2,1), opacity .7s ease; }
body.loaded .slide-in-left{ opacity:1; transform: translateX(0); }

/* =========================================================
   Payment Sheet 2.0 (Apple/Tesla vibe)
   - Glassy surface, segmented tabs, sticky action bar
========================================================= */

/* Base sheet */
.sheet { position: fixed; inset: 0; z-index: 50; display: block; }
.sheet.hidden { display: none; }

.sheet-backdrop{
  position:absolute; inset:0;
  background: rgba(17,17,17,.35);
  backdrop-filter: blur(12px) saturate(140%);
}

/* Card container with modern glass look */
.sheet-card{
  position:absolute; left:50%; top:50%;
  transform: translate(-50%,-50%);
  width: calc(100% - 2rem); max-width: 680px;
  max-height: 90vh; overflow: auto;
  background: rgba(255,255,255,.70);
  border: 1px solid rgba(17,17,17,.06);
  border-radius: 20px;
  box-shadow: 0 30px 80px rgba(0,0,0,.20);
  backdrop-filter: blur(24px) saturate(140%);
  padding: 1.25rem 1.25rem 0.75rem;
}

/* Pop-in entrance */
.sheet-card.pop { animation: popIn .5s cubic-bezier(.2,.8,.2,1); }
@keyframes popIn{
  from { transform: translate(-50%,-46%) scale(.985); opacity: 0; }
  to   { transform: translate(-50%,-50%) scale(1);     opacity: 1; }
}

.sheet-head{
  display:flex; align-items:center; justify-content:space-between;
  padding: .25rem .25rem .75rem;
}
.sheet-head h2{
  font-weight: 800; letter-spacing: -.02em;
  font-size: 1.25rem;
}
.sheet-close{ font-size:1.6rem; line-height:1; color:#7b7b7b }

/* Summary rows with larger total */
.summary-rows{ display:grid; gap:.4rem; font-size:.95rem }
.summary-rows > div{ display:flex; justify-content:space-between }
.summary-rows .total{ font-weight:800; border-top:1px dashed var(--ink-200); padding-top:.5rem }

.summary-v2{
  display:grid; gap:.4rem; margin-bottom:.75rem;
  font-size: .98rem;
}
.summary-v2 .row{ display:flex; justify-content:space-between; }
.summary-v2 .total{ border-top:1px dashed var(--ink-200); padding-top:.5rem; }
.summary-v2 .big span:last-child{ font-weight:800; font-size:1.05rem; }

/* Segmented control for methods */
.segmented{
  display:inline-flex; gap:.25rem; border:1px solid var(--ink-200);
  border-radius: 12px; padding: .2rem; background:#fff; margin:.25rem 0 .6rem;
}
.segmented .seg{
  appearance:none; border:0; background:transparent; padding:.5rem .75rem;
  border-radius:10px; font-weight:600; color:#111; cursor:pointer;
}
.segmented .seg.on{ background:#111; color:#fff; box-shadow:0 6px 18px rgba(0,0,0,.12); }
.segmented .seg:disabled,
.segmented .seg.disabled{ opacity:.4; cursor:not-allowed }

/* Method panels */
.method-panels .panel{ display:none; }
.method-panels .panel.active{ display:block; }

.card-hints{
  font-size:.78rem; color:#6b7280; margin-bottom:.5rem;
}

/* Wallets grid */
.wallet-grid{
  display:grid; grid-template-columns: 1fr 1fr; gap:.5rem;
}
@media (max-width: 480px){
  .wallet-grid{ grid-template-columns: 1fr; }
}

/* Sticky action bar */
.sticky-actions{
  position: sticky; bottom:0; display:flex; align-items:center; gap:.6rem;
  background: linear-gradient(180deg, rgba(255,255,255,0) 0%, rgba(255,255,255,.85) 20%, rgba(255,255,255,.95) 100%);
  padding:.75rem .25rem .75rem; margin-top: .75rem;
  border-top: 1px solid rgba(0,0,0,.06);
  backdrop-filter: blur(8px) saturate(140%);
}
.actions-total{ margin-right:auto; font-size:.95rem; color:#111; display:flex; gap:.5rem; align-items:center; }
.actions-total strong{ font-size:1.05rem; }

/* Payment method buttons and mounts */
.pay-methods{ display:flex; gap:.5rem; flex-wrap:wrap; align-items:center; padding: .25rem 0 .75rem }
.paybtn{
  border-radius:12px; padding:.8rem .9rem; border:1px solid var(--ink-200); background:#fff; font-weight:700;
  box-shadow: 0 6px 18px rgba(0,0,0,.06);
}
.paybtn.apple{ font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", Segoe UI, Roboto, Arial, sans-serif }

/* Square mounts tidy */
#card-container, #gift-card-container, #afterpay-button, #google-pay-button, #cash-app-pay-button{
  border:1px solid var(--ink-200);
  border-radius: 12px;
  padding: .75rem;
  background: #fff;
}
#google-pay-button, #cash-app-pay-button, #afterpay-button{ padding: 0; border: none; background: transparent; }

/* Spin */
.spinner{
  display:inline-block; width:1.2rem; height:1.2rem; border:2px solid #fff; border-top-color: transparent; border-radius:50%;
  animation: spin .8s linear infinite;
}
@keyframes spin{ to{ transform: rotate(360deg) } }

/***** Toast *****/
.toast{
  position:fixed; left:50%; bottom:24px; transform: translateX(-50%) translateY(8px);
  background:#111; color:#fff; border-radius:999px; padding:.7rem 1rem; z-index:60; opacity:0; pointer-events:none;
}
.toast.show{ opacity:1; transform: translateX(-50%) translateY(0); transition: all .25s ease }

/***** Dev panel *****/
.devpanel{
  position:fixed; right:12px; bottom:12px; background:#fff; border:1px solid var(--ink-200); border-radius:12px;
  padding:.6rem .8rem; font-size:.85rem; box-shadow: 0 10px 24px rgba(0,0,0,.1); z-index:70;
}

/***** Language select *****/
.lang-select{
  appearance:none; background:#fff; border:1px solid var(--ink-200); border-radius:10px; padding:.45rem .7rem; font-size:.9rem;
}

/* --- App teaser styles --- */
.app-pill { margin-top: .5rem; }
.app-pill-btn{
  font-size: 12px; line-height: 1; padding: .5rem .7rem; border-radius: 999px;
  border: 1px solid rgba(0,0,0,.08);
  background: linear-gradient(90deg, rgba(var(--pink-neon),.12), rgba(var(--pink-neon),.06));
  color: #232323;
  position: relative; overflow: hidden;
}
.app-pill-btn::after{
  content:""; position:absolute; left:-20%; top:0; width:40%; height:100%;
  background: linear-gradient(90deg, rgba(255,255,255,.0) 0%, rgba(255,255,255,.45) 50%, rgba(255,255,255,0) 100%);
  transform: skewX(-18deg); opacity:.0;
  animation: pillSheen 10s ease-in-out infinite;
}
@keyframes pillSheen{
  0%,85%{ transform: translateX(0) skewX(-18deg); opacity:0; }
  92%{ transform: translateX(260%) skewX(-18deg); opacity:.9; }
  100%{ transform: translateX(260%) skewX(-18deg); opacity:0; }
}

/* App preview modal */
.app-card{ max-width: 560px; }
.app-hero{ display:flex; justify-content:center; align-items:center; }
.app-hero img{
  width: 100%; max-width: 380px; height: auto;
  border-radius: 24px; box-shadow: 0 16px 60px rgba(0,0,0,.25);
  border: 1px solid rgba(255,255,255,.6); background:#fff;
}
.app-points{
  margin: 1rem 0 0; padding-left: 1rem; color: #4b5563;
}
.app-points li{ margin: .25rem 0; }
