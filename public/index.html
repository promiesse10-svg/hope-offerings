<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#ffffff" />
  <title>Hope of Life International Church — Give</title>

  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Square Web Payments SDK (PRODUCTION) -->
  <script src="https://web.squarecdn.com/v1/square.js"></script>

  <!-- Your PRODUCTION IDs -->
  <meta name="square:app-id" content="sq0idp-Q_8JiZhbDPWD5inTF_GpGg" />
  <meta name="square:location-id" content="KGVW2WRARTYFE" />

  <link rel="stylesheet" href="style.css" />
</head>

<body class="min-h-screen bg-paper text-ink selection:bg-brand/10 selection:text-brand">
  <!-- Ambient lighting -->
  <div aria-hidden="true" class="ambient"></div>
  <div aria-hidden="true" class="ambient-shift"></div>
  <div aria-hidden="true" class="grain"></div>
  <div aria-hidden="true" class="vignette"></div>

  <main class="container mx-auto max-w-3xl px-5 pt-8 md:pt-12 pb-16 md:pb-24">
    <!-- Top bar: language -->
    <div class="flex justify-end items-center mb-4">
      <div>
        <label class="sr-only" for="lang">Language</label>
        <select id="lang" class="lang-select" aria-label="Language">
          <option value="en" selected>English</option>
          <option value="rw">Kinyarwanda</option>
          <option value="fr">Français</option>
        </select>
      </div>
    </div>

    <!-- Header / Brand -->
    <header class="text-center fade-up">
      <div class="mx-auto mb-1 w-auto inline-block relative">
        <img src="images/holi_logo.png" alt="Hope of Life International Church logo"
             class="h-24 md:h-28 w-auto object-contain logo-glow" loading="lazy" />
      </div>

      <h1 class="headline text-3xl md:text-5xl font-bold tracking-tight fade-up"
          style="--delay:80ms; letter-spacing:-0.02em;">
        Hope of Life International Church
      </h1>

      <!-- Theme of the year -->
      <p class="text-sm md:text-base text-ink-400 mt-2 fade-up" style="--delay:110ms">
        “Year of Hope & Revival”
      </p>

      <!-- Scripture -->
      <section class="mt-8 md:mt-10 slide-in-left" style="--delay:160ms">
        <blockquote class="max-w-prose mx-auto">
          <p class="scripture-glow text-xl md:text-2xl leading-relaxed font-serif tracking-tight" data-i18n="scripture"></p>
        </blockquote>

        <div class="divider-dots mx-auto mt-6" aria-hidden="true">
          <span></span><span></span><span></span><span></span><span></span>
        </div>
        <div class="focus-line mx-auto mt-4"></div>
      </section>
    </header>

    <!-- Giving Form -->
    <section id="give" class="mt-16 md:mt-20">
      <div class="glass-card elevate">
        <form id="donationForm" class="space-y-6" novalidate>
          <!-- Amount -->
          <div>
            <label class="label" for="amount" data-i18n="amountLabel">Amount</label>
            <div class="chip-row" role="group" aria-label="Preset amounts">
              <button type="button" class="chip" data-amount="10">$10</button>
              <button type="button" class="chip" data-amount="20">$20</button>
              <button type="button" class="chip" data-amount="50">$50</button>
              <button type="button" class="chip" data-amount="100">$100</button>
              <button type="button" class="chip" data-amount="250">$250</button>
            </div>
            <div class="mt-3 relative">
              <span class="currency-prefix">$</span>
              <input id="amount" name="amount" inputmode="decimal" placeholder="Enter amount"
                     class="input pl-7" aria-describedby="amountHelp amountError" autocomplete="off"
                     data-i18n-attr="placeholder:amountPlaceholder" />
            </div>
            <div id="amountHelp" class="help" data-i18n="amountHelp">Minimum $1.00. (Tip: use the chips or type a custom amount.)</div>
            <div id="amountError" class="error hidden" role="alert" data-i18n="amountError">Enter a valid amount between $1 and $10,000.</div>
          </div>

          <!-- Fund -->
          <div>
            <label for="fund" class="label" data-i18n="fundLabel">Fund</label>
            <select id="fund" name="fund" class="input">
              <option value="tithe" data-i18n="Tithe">Tithe</option>
              <option value="offering" selected data-i18n="Offering">Offering</option>
              <option value="missions" data-i18n="Missions">Missions</option>
              <option value="building" data-i18n="Building Fund">Building Fund</option>
            </select>
          </div>

          <!-- Contact -->
          <div class="grid md:grid-cols-2 gap-3">
            <div>
              <label for="name" class="label" data-i18n="name">Your Name (required once)</label>
              <input id="name" name="name" autocomplete="name" class="input" />
              <div id="nameError" class="error hidden" role="alert">Please enter your name.</div>
            </div>
            <div>
              <label for="email" class="label" data-i18n="email">Email (required once)</label>
              <input id="email" name="email" type="email" autocomplete="email" class="input" />
              <div id="emailError" class="error hidden" role="alert">Enter a valid email address.</div>
            </div>
          </div>

          <!-- Submit -->
          <div class="pt-2 flex flex-col gap-2">
            <button id="giveBtn" type="button" class="btn-primary w-full" disabled data-i18n="giveNow">Give Now</button>
            <div id="summary" class="help text-center mt-2" aria-live="polite"></div>
          </div>
        </form>
      </div>
    </section>

    <footer class="mt-24 md:mt-32 text-center text-xs text-ink-400 fade-up" style="--delay:60ms">
      <p>© <span id="year"></span> Hope of Life International Church</p>
    </footer>
  </main>

  <!-- Payment Sheet -->
  <div id="paySheet" class="sheet hidden" role="dialog" aria-labelledby="payTitle" aria-modal="true">
    <div class="sheet-backdrop" data-close></div>

    <section class="sheet-card sheet-v2" role="document">
      <div class="sheet-head">
        <h2 id="payTitle" data-i18n="sheet.title">Secure Payment</h2>
        <button class="sheet-close" data-close aria-label="Close">&times;</button>
      </div>

      <!-- Summary -->
      <div class="summary-rows summary-v2">
        <div class="row"><span data-i18n="sheet.fund">Fund</span><span id="sFund">—</span></div>
        <div class="row"><span data-i18n="sheet.gift">Gift</span><span id="sBase">$0.00</span></div>
        <div class="row total big"><span data-i18n="sheet.total">Total</span><span id="sTotal">$0.00</span></div>
      </div>

      <!-- Segmented control -->
      <div class="segmented" role="tablist" id="payTabs" aria-label="Payment method">
        <button class="seg on" data-tab="card" role="tab" aria-selected="true">Card</button>
        <button class="seg" data-tab="wallets" id="tab-wallets" role="tab" aria-selected="false">Wallets</button>
        <button class="seg" data-tab="bank" role="tab" aria-selected="false">Bank</button>
      </div>

      <!-- Method panels -->
      <div class="method-panels">
        <!-- Card -->
        <div id="panel-card" class="panel active" role="tabpanel">
          <div class="card-hints"><span>Visa • Mastercard • Amex</span></div>
          <div id="card-container"></div>
        </div>

        <!-- Wallets -->
        <div id="panel-wallets" class="panel" role="tabpanel">
          <div class="wallet-grid">
            <button id="apple-pay-button" class="paybtn apple hidden" type="button">Buy with  Pay</button>
            <div id="google-pay-button" class="hidden"></div>
            <div id="cash-app-pay-button" class="hidden"></div>
            <div id="afterpay-button" class="hidden"></div>
          </div>
          <p id="noWallets" class="help mt-3 hidden">No supported wallets on this device.</p>
        </div>

        <!-- Bank (ACH) -->
        <div id="panel-bank" class="panel" role="tabpanel">
          <button id="ach-button" class="paybtn bank hidden" type="button">Pay from bank (ACH)</button>
          <p class="help mt-3">Secure bank transfer via ACH.</p>
        </div>
      </div>

      <div id="payError" class="error hidden mt-3" role="alert" aria-live="assertive"></div>

      <!-- Sticky action bar -->
      <div class="sheet-actions sticky-actions">
        <div class="actions-total"><span>Total</span> <strong id="sTotal_bottom">$0.00</strong></div>
        <button class="btn-secondary" data-close data-i18n="cancel">Cancel</button>
        <button id="confirmPay" class="btn-primary">
          <span class="spinner hidden" id="confirmSpin"></span>
          <span id="confirmText" data-i18n="confirmGive">Confirm &amp; Give</span>
        </button>
      </div>
    </section>
  </div>

  <!-- Toast -->
  <div id="toast" class="toast hidden" role="status" aria-live="polite"></div>

  <!-- Dev-only Neon Dial (?dev=1) -->
  <div id="devPanel" class="devpanel hidden">
    <label for="neonDial">Neon intensity</label>
    <input id="neonDial" type="range" min="0.4" max="1.8" value="1" step="0.1" />
    <span id="neonVal">1.0×</span>
  </div>

  <script src="app.js" defer></script>
</body>
</html>
